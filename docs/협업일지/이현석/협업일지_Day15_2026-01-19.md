---
layout: default
title: "협업일지 Day 15 (2026-01-19) - 코드잇 AI 4기 4팀 이현석"
description: "협업일지 Day 15 (2026-01-19) - 코드잇 AI 4기 4팀 이현석"
date: 2026-01-19
author: "이현석"
cache-control: no-cache
expires: 0
pragma: no-cache
---

# 일일 협업일지 - Day 15 (2026-01-19)

## [1] 기본 정보
**날짜**: 2026-01-19
**이름**: 이현석
**팀명**: 코드잇 AI 4기 4팀

---

## [2] 오늘 맡은 역할 및 구체적인 작업 내용
**답변**:
```
이미지 생성 모듈 GPU OOM 이슈 해결
- auto_unload=True 설정이 GPU OOM 유발 원인 발견
  - Text2ImageNode 생성 후 auto_unload로 파이프라인 캐시 파괴
  - 다음 요청 시 모델 재로딩 시도 → 메모리 부족
- generator.py의 auto_unload=False로 변경 (138번 라인)
- 파이프라인 캐시 유지로 연속 생성 시 재로딩 방지

이미지 생성 모듈 기술 이해 및 분석
- I2I strength 파라미터 동작 원리 분석
  - strength 값에 따라 실제 실행 step 수가 달라짐
  - strength=0.6, steps=8 → 실제 4~5 step만 실행
  - 원본 구도 유지 정도 조절 가능
- Diffusion 모델의 텍스트 생성 한계 확인
  - 이미지 내 정확한 글자 생성 불가능 (모든 diffusion 모델 공통)
  - I2I로 원본에 없던 요소(글자) 추가 어려움
  - 권장: 후처리(PIL, OpenCV)로 텍스트 오버레이
- 공유 캐시 아키텍처 분석
  - T2I/I2I 파이프라인이 Base Model, Text Encoder, VAE 공유
  - shared_cache.py를 통한 컴포넌트 레벨 캐싱
  - 메모리 40% 절감, 전환 시간 95% 단축 효과

기술 문서 업데이트
- technical_README.md 업데이트
  - 공유 캐시 아키텍처 섹션 추가 (3.4)
  - Image2ImageNode 상세 설명 추가
  - Last Updated: 2026-01-19
- Image_README.md 업데이트
  - ZIT 전환 명시 및 모델 시스템 설명 개선
  - I2I Strength 이해하기 섹션 추가 (표 포함)
  - 성능 및 메모리 섹션 전면 개편
  - 최종 수정일: 2026-01-19
```

---

## [3] 오늘 작업 완료도 체크 (하나만 체크)
- [ ] 0% (시작 못함)
- [ ] 25% (시작은 했지만 진척 없음)
- [ ] 50% (진행 중, 절반 이하)
- [ ] 75% (거의 완료됨)
- [x] 100% (완료 및 점검까지 완료)

**간단한 근거**:
```
- GPU OOM 이슈 원인 분석 및 해결 완료
- I2I strength 동작 원리 이해 완료
- 기술 문서 2개 업데이트 완료
```

---

## [4] 오늘 협업 중 제안하거나 피드백한 내용이 있다면?
**답변**:
```
없음
```

---

## [5] 오늘 분석/실험 중 얻은 인사이트나 발견한 문제점은?
**답변**:
```
1. auto_unload의 역설
   - 의도: 메모리 절약을 위한 자동 언로드
   - 실제: 연속 생성 시 재로딩으로 OOM 유발
   - 교훈: 20.5GB 모델은 한 번 로드 후 VRAM 상주가 더 효율적
   - 해결: auto_unload=False 설정으로 Singleton 패턴 유지

2. I2I strength의 이중 의미
   - strength는 단순히 "강도"가 아님
   - 실제로는 "노이즈 추가 비율" = "실행 step 비율"
   - strength=0.6 → 전체 step의 60%만 실행 (8 step → 4~5 step)
   - 원본 구도 유지와 생성 속도에 동시 영향

3. Diffusion 모델의 근본적 한계
   - FLUX, SDXL, ZIT 모두 정확한 텍스트 생성 불가능
   - I2I는 "스타일 변환"이지 "요소 추가"가 아님
   - 광고 이미지에 문구 필요 시 후처리 필수

4. 공유 캐시의 중요성
   - T2I와 I2I가 컴포넌트 공유하지 않으면 메모리 40GB 필요
   - shared_cache.py로 약20GB로 감소 (L4 한계 내)
   - 파이프라인 전환 시간 60초 → 3초 단축
```

---

## [6] 일정 지연이나 협업 중 어려웠던 점이 있다면?
**답변**:
```
없음
```

---

## [7] 오늘 발표 준비나 커뮤니케이션에서 기여한 부분은?
**답변**:
```
없음
```

---

## [8] 내일 목표 / 할 일
**답변**:
```
1. 이미지 생성 모듈 추가 최적화 검토
2. 프롬프트 생성 시스템 개선 검토
```

---

## [9] 추가 기록 (선택사항)

```
주요 작업 파일:
1. 이미지 생성 모듈
   - src/generation/image_generation/generator.py (138번 라인 수정)
   - src/generation/image_generation/nodes/image2image.py (분석)
   - src/generation/image_generation/nodes/shared_cache.py (분석)

2. 기술 문서
   - src/generation/image_generation/private_doc/technical_README.md
     * 섹션 3.4 추가: 공유 캐시 아키텍처
     * 섹션 5 추가: Image2ImageNode 상세 설명
   - src/generation/image_generation/private_doc/Image_README.md
     * 모델 시스템 설명 전면 개편
     * I2I Strength 이해하기 섹션 추가
     * 성능 벤치마크 업데이트

GPU OOM 해결 과정:
- 문제 발견: 연속 생성 시 OOM 발생
- 원인 분석: auto_unload=True가 캐시 파괴
- 해결: auto_unload=False 설정
- 검증: 연속 생성 테스트 성공

문서화 작업:
- I2I strength 분석 및 정리
- 공유 캐시 아키텍처 문서화
- Image_README.md 업데이트
- technical_README.md 업데이트
```

---

**작성 시간**: 5분
