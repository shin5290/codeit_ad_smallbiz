# 프로젝트 체크리스트
## 소상공인 광고 콘텐츠 생성 서비스 (4주 개발)

**작성일**: 2026-01-01  
**총 기간**: 4주  
**목표**: MVP 완성 및 배포

---

## 📋 전체 일정 개요

```
1주차 (1/1-1/7)   : 기반 구축 - 인프라, DB, 기본 API
2주차 (1/8-1/14)  : 핵심 기능 - AI 모델 연동, 통합
3주차 (1/15-1/21) : 사용자 기능 - UI 완성, 인증, 이력
4주차 (1/22-1/28) : 배포 및 안정화 - 테스트, 최적화, 배포
```

---

## 👤 이유노: 프론트엔드 + 백엔드 API

### 📌 우선순위 정리
**P0 (필수)**: 기본 UI, API 엔드포인트, 회원가입/로그인  
**P1 (중요)**: 이력 관리 UI, 실시간 상태 표시  
**P2 (선택)**: 브랜드 설정, 오늘의 추천

---

### 1주차 (1/1-1/7): 기본 구조 구축

#### Day 1-2: 프로젝트 초기 설정
- [ ] **P0** Svelte 프로젝트 생성 및 Vercel 연동
  - [ ] `npm create vite@latest frontend -- --template svelte`
  - [ ] Vercel 계정 연결 및 자동 배포 설정 확인
  - [ ] 환경 변수 설정 (.env.local)

- [ ] **P0** FastAPI 프로젝트 구조 생성
  - [ ] `backend/routes.py` 기본 파일 생성
  - [ ] `backend/schemas.py` Pydantic 스키마 정의 시작
  - [ ] CORS 설정 (프론트엔드 도메인 허용)

#### Day 3-4: routes.py 기본 엔드포인트
- [ ] **P0** POST /generate 엔드포인트 구현
  - [ ] GenerateRequest 스키마 정의
  - [ ] Task ID 생성 로직
  - [ ] 즉시 응답 반환 구조

- [ ] **P0** GET /status/{task_id} 엔드포인트 구현
  - [ ] Task 상태 저장소 (딕셔너리 또는 Redis)
  - [ ] TaskStatus 스키마 정의

- [ ] **P0** 백엔드 로컬 실행 테스트
  - [ ] `uvicorn backend.routes:app --reload`
  - [ ] Postman으로 API 테스트

#### Day 5-7: 챗봇 UI 프로토타입
- [ ] **P0** App.svelte 기본 레이아웃
  - [ ] Header (로고, 인증 버튼 영역)
  - [ ] MainContent 영역 구분

- [ ] **P0** ChatbotUI 컴포넌트 생성
  - [ ] 텍스트 입력 필드
  - [ ] 이미지 비율 선택 (라디오 버튼: 1:1, 4:3, 3:4)
  - [ ] 생성 버튼
  - [ ] 대화 이력 표시 영역 (스크롤 가능)

- [ ] **P0** backend_client.py 기본 구조
  - [ ] generateAd() 함수 (fetch API 사용)
  - [ ] checkTaskStatus() 함수
  - [ ] 에러 처리 기본 구조

**1주차 마일스톤**: 
✅ 프론트엔드에서 텍스트 입력 → 백엔드 API 호출 → Task ID 수신 확인

---

### 2주차 (1/8-1/14): AI 연동 및 결과 표시

#### Day 8-9: 결과 표시 UI
- [ ] **P0** ChatbotUI에 결과 렌더링 추가
  - [ ] 이미지 URL을 받아 <img> 태그로 표시
  - [ ] 광고 문구 텍스트 표시
  - [ ] 다운로드 버튼 추가

- [ ] **P1** 로딩 상태 표시
  - [ ] Spinner 컴포넌트 생성
  - [ ] "이미지 생성 중..." 상태 텍스트
  - [ ] Progress bar (선택)

#### Day 10-11: 대화 이력 UI
- [ ] **P0** ChatbotUI에 메시지 렌더링
  - [ ] 사용자 메시지: 오른쪽 정렬, 파란색 배경
  - [ ] AI 메시지: 왼쪽 정렬, 회색 배경
  - [ ] 시간 정보 표시

- [ ] **P1** 상태 폴링 로직
  - [ ] checkTaskStatus()를 1초마다 호출
  - [ ] completed 또는 failed 시 폴링 중단
  - [ ] 최대 재시도 횟수 설정 (60회 = 1분)

#### Day 12-14: routes.py 연동 확인
- [ ] **P0** routes.py에서 services.py 호출 연결
  - [ ] create_advertisement() 백그라운드 작업 시작
  - [ ] Task 상태 업데이트 확인

- [ ] **P0** 전체 플로우 테스트
  - [ ] 프론트 → 백엔드 → AI 모델 → 결과 반환
  - [ ] 에러 케이스 처리 (타임아웃, AI 모델 실패 등)

**2주차 마일스톤**:
✅ 텍스트 입력 → 이미지 생성 → 결과 표시 전체 플로우 동작 확인

---

### 3주차 (1/15-1/21): 인증 및 이력 관리

#### Day 15-16: 회원가입/로그인 UI
- [ ] **P0** AuthUI 컴포넌트 생성
  - [ ] 회원가입 폼 (login_id, login_pw)
  - [ ] 로그인 폼
  - [ ] 폼 전환 버튼

- [ ] **P0** 유효성 검증 (프론트엔드)
  - [ ] ID: 3-20자, 영문+숫자만
  - [ ] PW: 8-30자
  - [ ] 실시간 에러 메시지 표시

- [ ] **P0** backend_client.py에 인증 함수 추가
  - [ ] signup(login_id, login_pw)
  - [ ] login(login_id, login_pw)

#### Day 17-18: routes.py 인증 엔드포인트
- [ ] **P0** POST /auth/signup 구현
  - [ ] SignupRequest 스키마
  - [ ] services.register_user() 호출
  - [ ] 중복 ID 에러 처리

- [ ] **P0** POST /auth/login 구현
  - [ ] LoginRequest 스키마
  - [ ] services.authenticate_user() 호출
  - [ ] JWT 토큰 반환

- [ ] **P0** App.svelte에 세션 관리
  - [ ] sessionToken localStorage 저장
  - [ ] isLoggedIn 상태 관리
  - [ ] 로그아웃 기능

#### Day 19-21: 이력 관리 UI
- [ ] **P1** GenerationHistoryUI 컴포넌트
  - [ ] 썸네일 그리드 레이아웃
  - [ ] backend_client.getGenerationHistory() 호출
  - [ ] 클릭 시 모달로 상세 정보 표시

- [ ] **P1** ChatHistoryUI 컴포넌트
  - [ ] 세션 목록 표시
  - [ ] backend_client.getChatSessions() 호출
  - [ ] 세션 클릭 시 대화 이력 로드

- [ ] **P1** routes.py 이력 엔드포인트
  - [ ] GET /history/generation
  - [ ] GET /history/chat/sessions
  - [ ] GET /history/chat

**3주차 마일스톤**:
✅ 회원가입/로그인 → 광고 생성 → 이력 조회 전체 기능 동작

---

### 4주차 (1/22-1/28): 최적화 및 배포

#### Day 22-24: UI/UX 개선
- [ ] **P1** 반응형 디자인
  - [ ] 모바일 레이아웃 조정
  - [ ] 태블릿 레이아웃 조정

- [ ] **P1** 에러 처리 개선
  - [ ] Toast 알림 (성공/실패 메시지)
  - [ ] 네트워크 오류 재시도 옵션

- [ ] **P1** 로딩 상태 최적화
  - [ ] Skeleton UI (로딩 중 빈 화면 대신)

#### Day 25-26: 통합 테스트
- [ ] **P0** E2E 테스트 (수동)
  - [ ] 회원가입 → 로그인 → 광고 생성 → 이력 조회
  - [ ] 비회원 모드 테스트

- [ ] **P1** 크로스 브라우저 테스트
  - [ ] Chrome, Firefox, Safari 확인

#### Day 27-28: 배포
- [ ] **P0** Vercel 프로덕션 배포
  - [ ] 환경 변수 프로덕션 설정
  - [ ] 배포 후 동작 확인

- [ ] **P0** 백엔드 API 엔드포인트 URL 업데이트
  - [ ] backend_client.py에 프로덕션 URL 설정

**4주차 마일스톤**:
✅ 프론트엔드 Vercel 배포 완료, 전체 서비스 정상 동작

---

### 선택 기능 (여유 시간 있을 경우)

- [ ] **P2** BrandSettingUI (Sidebar)
  - [ ] 로고 이미지 업로드
  - [ ] 브랜드 컬러 설정

- [ ] **P2** RecommendationUI (Sidebar)
  - [ ] 계절/기념일 기반 추천 내용 표시

---

## 👤 진수경: 백엔드 비즈니스 로직

### 📌 우선순위 정리
**P0 (필수)**: DB 설정, CRUD, 워크플로우 통합  
**P1 (중요)**: 챗봇 로직, 세션 관리  
**P2 (선택)**: 캐싱, 성능 최적화

---

### 1주차 (1/1-1/7): DB 설정 및 기본 CRUD

#### Day 1-2: PostgreSQL 설정
- [ ] **P0** PostgreSQL 로컬 설치 및 실행
  - [ ] Docker로 PostgreSQL 컨테이너 실행
  - [ ] 데이터베이스 생성 (`ad_generator`)

- [ ] **P0** db_processor.py 기본 구조
  - [ ] psycopg2 또는 SQLAlchemy 연결 설정
  - [ ] 연결 풀 설정

#### Day 3-5: 테이블 스키마 생성
- [ ] **P0** user 테이블 생성
  ```sql
  CREATE TABLE user (
    user_id SERIAL PRIMARY KEY,
    login_id VARCHAR(50) UNIQUE NOT NULL,
    login_pw VARCHAR(255) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
  );
  ```

- [ ] **P0** generation_history 테이블 생성
  ```sql
  CREATE TABLE generation_history (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES user(user_id) ON DELETE SET NULL,
    input_text TEXT NOT NULL,
    input_image_hash VARCHAR(64),
    content_type VARCHAR(10) CHECK (content_type IN ('image', 'text')),
    output_url TEXT,
    generation_method VARCHAR(20),
    style TEXT,
    industry VARCHAR(50),
    seed INTEGER,
    aspect_ratio VARCHAR(10),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
  );
  ```

- [ ] **P0** chat_history 테이블 생성
- [ ] **P0** image_matching 테이블 생성

#### Day 6-7: 기본 CRUD 함수
- [ ] **P0** create_user(login_id, hashed_pw)
- [ ] **P0** get_user_by_login_id(login_id)
- [ ] **P0** check_duplicate_id(login_id)

**1주차 마일스톤**:
✅ DB 테이블 생성 완료, 기본 CRUD 함수 동작 확인

---

### 2주차 (1/8-1/14): 비즈니스 로직 통합

#### Day 8-10: services.py 워크플로우
- [ ] **P0** create_advertisement() 함수 구현
  - [ ] Task 상태 초기화
  - [ ] PromptTemplateManager 호출
  - [ ] UnifiedImageGenerator 호출
  - [ ] storage.save_image() 호출
  - [ ] save_generation_history() 호출
  - [ ] Task 상태 업데이트

- [ ] **P0** 백그라운드 작업 처리
  - [ ] asyncio 또는 threading 사용
  - [ ] 에러 발생 시 Task 상태를 "failed"로 업데이트

#### Day 11-12: 챗봇 로직
- [ ] **P1** save_chat_message() 함수
  - [ ] session_id 생성 로직 (UUID)
  - [ ] message_id 자동 증가

- [ ] **P1** get_chat_history() 함수
  - [ ] session_id별 메시지 정렬

#### Day 13-14: 통합 테스트
- [ ] **P0** services.py 전체 플로우 테스트
  - [ ] Mock 데이터로 create_advertisement() 호출
  - [ ] DB 저장 확인
  - [ ] 에러 케이스 처리 확인

**2주차 마일스톤**:
✅ 광고 생성 전체 워크플로우 동작, DB 저장 확인

---

### 3주차 (1/15-1/21): 인증 및 이력 관리

#### Day 15-17: 인증 시스템
- [ ] **P0** register_user() 함수
  - [ ] bcrypt로 비밀번호 해시
  - [ ] create_user() 호출
  - [ ] 중복 ID 검증

- [ ] **P0** authenticate_user() 함수
  - [ ] 비밀번호 검증 (bcrypt.checkpw)
  - [ ] JWT 토큰 생성 (PyJWT)
  - [ ] 토큰 만료 시간: 7일

#### Day 18-21: 이력 조회 함수
- [ ] **P1** save_generation_history() 완성
  - [ ] 모든 필드 저장 (style, seed, aspect_ratio 등)

- [ ] **P1** get_generation_history(user_id, limit=20)
  - [ ] 시간 역순 정렬
  - [ ] 페이징 지원 (선택)

- [ ] **P1** get_chat_sessions(user_id)
  - [ ] session_id별 그룹화
  - [ ] 최초 메시지 추출

- [ ] **P1** get_chat_history(user_id, session_id)

**3주차 마일스톤**:
✅ 인증 및 이력 조회 기능 완성

---

### 4주차 (1/22-1/28): 최적화 및 배포 지원

#### Day 22-24: 성능 최적화
- [ ] **P1** DB 인덱스 추가
  - [ ] user.login_id
  - [ ] generation_history.user_id
  - [ ] chat_history.session_id

- [ ] **P1** 연결 풀 최적화
  - [ ] 최대 연결 수 설정
  - [ ] 타임아웃 설정

#### Day 25-26: 에러 처리 강화
- [ ] **P0** 모든 함수에 try-except 추가
- [ ] **P0** 로깅 설정 (logging_config.py)
  - [ ] 파일 로그 + 콘솔 로그
  - [ ] 에러 레벨별 분리

#### Day 27-28: DB 마이그레이션 스크립트
- [ ] **P0** 프로덕션 DB 설정 지원
  - [ ] Cloud SQL 연결 테스트
  - [ ] 초기 데이터 삽입 스크립트

**4주차 마일스톤**:
✅ 백엔드 로직 안정화, 프로덕션 DB 준비 완료

---

### 선택 기능 (여유 시간 있을 경우)

- [ ] **P2** 캐싱 시스템
  - [ ] Redis 연동
  - [ ] 동일 프롬프트 재요청 시 캐시 활용

- [ ] **P2** 사용자 활동 로그
  - [ ] 생성 횟수, 로그인 횟수 추적

---

## 👤 이현석: 이미지 생성

### 📌 우선순위 정리
**P0 (필수)**: SDXL t2i 기본 생성  
**P1 (중요)**: 후처리, 모델 선택 로직  
**P2 (선택)**: Flux.1, ControlNet

---

### 1주차 (1/1-1/7): 환경 설정 및 SDXL 기본 연동

#### Day 1-2: GPU 환경 설정
- [ ] **P0** Python 환경 구성
  - [ ] Python 3.10 설치
  - [ ] CUDA 설정 (GPU 사용 시)

- [ ] **P0** 의존성 설치
  - [ ] `pip install diffusers transformers accelerate`
  - [ ] `pip install torch torchvision` (CUDA 버전)

#### Day 3-5: SDXL 모델 로드
- [ ] **P0** UnifiedImageGenerator 클래스 기본 구조
  ```python
  class UnifiedImageGenerator:
      def __init__(self, model_type="sdxl"):
          # SDXL 파이프라인 로드
      
      def generate(self, prompt, aspect_ratio):
          # 기본 생성 함수
  ```

- [ ] **P0** SDXL 모델 다운로드 및 로드 테스트
  - [ ] `stabilityai/stable-diffusion-xl-base-1.0`
  - [ ] GPU 메모리 확인 (최소 8GB)

#### Day 6-7: 기본 t2i 생성
- [ ] **P0** generate_t2i() 함수
  - [ ] 프롬프트 입력 → 이미지 생성
  - [ ] 해상도 설정 (1024x1024)
  - [ ] 시드 고정 옵션

- [ ] **P0** 생성 테스트
  - [ ] 테스트 프롬프트: "cafe interior, warm lighting, cozy"
  - [ ] 생성 시간 측정 (목표: 30초 이내)

**1주차 마일스톤**:
✅ SDXL로 기본 이미지 생성 성공

---

### 2주차 (1/8-1/14): 후처리 및 최적화

#### Day 8-10: 후처리 함수
- [ ] **P0** 비율별 해상도 계산
  - [ ] "1:1" → 1024x1024
  - [ ] "4:3" → 1024x768
  - [ ] "3:4" → 768x1024

- [ ] **P0** postprocess_image() 함수
  - [ ] 이미지 압축 (JPEG 품질 85)
  - [ ] 파일 크기 < 2MB 목표
  - [ ] 임시 파일 저장 (`/tmp/`)

#### Day 11-12: 텍스트 오버레이
- [ ] **P1** add_text_overlay() 함수
  - [ ] PIL.ImageDraw 사용
  - [ ] 폰트 크기 자동 조정
  - [ ] 반투명 배경 박스
  - [ ] 텍스트 위치: bottom (기본)

- [ ] **P1** 폰트 파일 준비
  - [ ] 한글 지원 폰트 (나눔고딕, 본고딕 등)
  - [ ] 프로젝트에 포함

#### Day 13-14: services.py 연동
- [ ] **P0** generate() 함수를 services.py에서 호출 가능하도록 수정
  - [ ] 입력: prompt (str), aspect_ratio (str), ad_copy (str)
  - [ ] 출력: image_path (str), metadata (dict)

- [ ] **P0** 전체 플로우 테스트
  - [ ] services.create_advertisement()에서 호출
  - [ ] 생성된 이미지 확인

**2주차 마일스톤**:
✅ 이미지 생성 + 텍스트 오버레이 완성, 백엔드 통합 확인

---

### 3주차 (1/15-1/21): 모델 선택 및 고급 기능

#### Day 15-17: 모델 자동 선택
- [ ] **P1** decide_model(prompt) 함수
  - [ ] 키워드 분석 ("realistic" → Flux)
  - [ ] 기본값: SDXL

- [ ] **P1** Flux.1 모델 연동 (선택)
  - [ ] `black-forest-labs/FLUX.1-schnell` 다운로드
  - [ ] Flux 파이프라인 로드
  - [ ] 생성 시간 비교 (SDXL vs Flux)

#### Day 18-19: 네거티브 프롬프트
- [ ] **P1** negative_prompt 파라미터 추가
  - [ ] 기본값: "low quality, blurry, text, watermark"
  - [ ] 프롬프트 생성 시 포함

#### Day 20-21: 에러 처리
- [ ] **P0** GPU 메모리 부족 처리
  - [ ] torch.cuda.empty_cache() 호출
  - [ ] 재시도 로직

- [ ] **P0** 타임아웃 설정
  - [ ] 최대 생성 시간: 60초
  - [ ] 초과 시 에러 반환

**3주차 마일스톤**:
✅ 모델 자동 선택 로직 완성, 안정성 향상

---

### 4주차 (1/22-1/28): 최적화 및 배포 준비

#### Day 22-24: 성능 최적화
- [ ] **P1** 배치 처리 지원 (선택)
  - [ ] 여러 프롬프트 동시 생성

- [ ] **P1** 모델 로딩 최적화
  - [ ] 메모리 사용량 모니터링
  - [ ] 불필요한 모델 언로드

#### Day 25-26: Docker 컨테이너화
- [ ] **P0** GPU 서버용 Dockerfile 작성
  - [ ] Base image: pytorch/pytorch:2.0.0-cuda11.7-cudnn8-runtime
  - [ ] 모델 파일 포함 (또는 다운로드 스크립트)

- [ ] **P0** 로컬 Docker 테스트
  - [ ] `docker build -t gpu-server .`
  - [ ] `docker run --gpus all gpu-server`

#### Day 27-28: 배포 지원
- [ ] **P0** GCP Compute Engine 인스턴스 설정 (신승목와 협업)
  - [ ] GPU 타입: NVIDIA T4
  - [ ] 모델 파일 업로드

**4주차 마일스톤**:
✅ 이미지 생성 모듈 안정화, 배포 준비 완료

---

### 선택 기능 (여유 시간 있을 경우)

- [ ] **P2** ControlNet 지원
  - [ ] 사용자 로고 이미지 입력
  - [ ] generate_controlnet() 함수

- [ ] **P2** QWEN 모델 연동
  - [ ] 실사 이미지 고품질 생성

---

## 👤 배현석: 텍스트 및 프롬프트 생성

### 📌 우선순위 정리
**P0 (필수)**: GPT API 연동, 기본 프롬프트 생성  
**P1 (중요)**: 템플릿 관리, 키워드 추출  
**P2 (선택)**: 업종별 최적화, 다양한 톤

---

### 1주차 (1/1-1/7): GPT API 연동

#### Day 1-2: 환경 설정
- [ ] **P0** OpenAI API 키 발급
  - [ ] https://platform.openai.com/api-keys
  - [ ] 환경 변수 설정 (OPENAI_API_KEY)

- [ ] **P0** 의존성 설치
  - [ ] `pip install openai`

#### Day 3-5: TextGenerator 클래스
- [ ] **P0** 기본 구조 생성
  ```python
  class TextGenerator:
      def __init__(self, api_key):
          self.client = OpenAI(api_key=api_key)
      
      def generate_ad_copy(self, user_input, tone="warm"):
          # GPT API 호출
  ```

- [ ] **P0** generate_ad_copy() 함수
  - [ ] 시스템 프롬프트: "광고 카피라이터 역할"
  - [ ] 사용자 프롬프트: user_input 포함
  - [ ] 모델: "gpt-4o-mini" (비용 절감)
  - [ ] max_tokens: 100

#### Day 6-7: 테스트
- [ ] **P0** 다양한 입력으로 테스트
  - [ ] "카페 신메뉴 홍보"
  - [ ] "헬스장 회원 모집"
  - [ ] "꽃집 봄 시즌 이벤트"

- [ ] **P0** 응답 품질 확인
  - [ ] 20자 이내 제약 확인
  - [ ] 톤 적합성 확인

**1주차 마일스톤**:
✅ GPT API로 광고 문구 생성 성공

---

### 2주차 (1/8-1/14): 프롬프트 템플릿 관리

#### Day 8-10: PromptTemplateManager 클래스
- [ ] **P0** 기본 구조 생성
  ```python
  class PromptTemplateManager:
      def __init__(self):
          self.gpt_client = OpenAI(api_key=...)
      
      def generate_image_prompt(self, user_input):
          # 이미지 생성용 태그 추출
      
      def generate_text_prompt(self, user_input):
          # 광고 문구 생성용 프롬프트
  ```

#### Day 11-13: generate_image_prompt() 함수
- [ ] **P0** 시스템 프롬프트 작성
  ```
  "당신은 이미지 생성을 위한 태그 추출 전문가입니다.
   사용자 입력을 분석하여 Stable Diffusion에 적합한
   영문 태그를 쉼표로 구분하여 생성하세요.
   
   - 업종 키워드 포함
   - 분위기/스타일 강조
   - 구체적인 시각 요소 추가"
  ```

- [ ] **P0** 사용자 프롬프트 템플릿
  ```
  "입력: {user_input}
   
   위 내용을 바탕으로 이미지 생성 태그를 만들어주세요.
   (예: cafe interior, warm lighting, cozy atmosphere, latte art)"
  ```

- [ ] **P0** 품질 태그 자동 추가
  - [ ] "high quality, detailed, professional" 항상 포함

#### Day 14: 통합 테스트
- [ ] **P0** services.py에서 호출 테스트
  - [ ] generate_image_prompt() → UnifiedImageGenerator
  - [ ] generate_ad_copy() → 텍스트 오버레이

**2주차 마일스톤**:
✅ 프롬프트 생성 → 이미지 생성 → 광고 문구 전체 플로우 동작

---

### 3주차 (1/15-1/21): 고급 기능 및 최적화

#### Day 15-17: 키워드 추출
- [ ] **P1** extract_keywords() 함수
  - [ ] GPT API로 핵심 키워드 추출
  - [ ] 결과: List[str]
  - [ ] 예: ["카페", "신메뉴", "겨울", "따뜻한"]

- [ ] **P1** 키워드 기반 템플릿 선택
  - [ ] 업종별 프롬프트 템플릿 분리
  - [ ] cafe_template, restaurant_template 등

#### Day 18-19: 톤별 프롬프트
- [ ] **P1** 톤 옵션 추가
  - [ ] "warm": 따뜻하고 감성적
  - [ ] "professional": 전문적이고 신뢰감
  - [ ] "friendly": 친근하고 활발한
  - [ ] "energetic": 역동적이고 강렬한

- [ ] **P1** 시스템 프롬프트 톤별 분리

#### Day 20-21: 에러 처리
- [ ] **P0** API 호출 실패 처리
  - [ ] 재시도 로직 (최대 3회)
  - [ ] 타임아웃 설정 (10초)

- [ ] **P0** 응답 검증
  - [ ] 빈 응답 처리
  - [ ] 길이 초과 시 자르기

**3주차 마일스톤**:
✅ 키워드 추출, 톤별 생성 완성

---

### 4주차 (1/22-1/28): 최적화 및 비용 관리

#### Day 22-24: 비용 최적화
- [ ] **P1** 프롬프트 길이 제한
  - [ ] 시스템 프롬프트: 200토큰 이내
  - [ ] 사용자 입력: 500자 제한

- [ ] **P1** 캐싱 (선택)
  - [ ] 동일 입력 시 캐시된 결과 반환
  - [ ] Redis 사용 (진수경와 협업)

#### Day 25-26: 품질 개선
- [ ] **P1** Few-shot 예시 추가
  - [ ] 프롬프트에 좋은 예시 포함
  - [ ] "입력: ... → 출력: ..." 형식

- [ ] **P1** 응답 후처리
  - [ ] 불필요한 특수문자 제거
  - [ ] 이모지 제거 (선택)

#### Day 27-28: 통합 테스트
- [ ] **P0** 다양한 업종 테스트
  - [ ] 카페, 식당, 헬스장, 꽃집, 미용실 등

- [ ] **P0** 에지 케이스 처리
  - [ ] 짧은 입력 (5자 이내)
  - [ ] 긴 입력 (500자 초과)

**4주차 마일스톤**:
✅ 프롬프트 생성 안정화, 비용 최적화 완료

---

### 선택 기능 (여유 시간 있을 경우)

- [ ] **P2** 다국어 지원
  - [ ] 영어 입력 → 영어 광고 문구

- [ ] **P2** 업종별 최적화
  - [ ] 업종별 프롬프트 템플릿 세분화

---

## 👤 신승목: 인프라

### 📌 우선순위 정리
**P0 (필수)**: Docker, 파일 저장, 테스트  
**P1 (중요)**: CI/CD, Cloud Run 배포  
**P2 (선택)**: GPU 서버, GCS

---

### 1주차 (1/1-1/7): Docker 및 파일 저장

#### Day 1-3: Docker 설정
- [ ] **P0** backend용 Dockerfile 작성
  ```dockerfile
  FROM python:3.10-slim
  WORKDIR /app
  COPY requirements.txt .
  RUN pip install -r requirements.txt
  COPY . .
  CMD ["uvicorn", "backend.routes:app", "--host", "0.0.0.0", "--port", "8000"]
  ```

- [ ] **P0** docker-compose.yml 작성
  ```yaml
  services:
    backend:
      build: ./deployment/docker/backend
      ports:
        - "8000:8000"
      environment:
        - DATABASE_URL=...
    
    postgres:
      image: postgres:15
      environment:
        - POSTGRES_DB=ad_generator
  ```

- [ ] **P0** 로컬 Docker 테스트
  - [ ] `docker-compose up`
  - [ ] 백엔드 API 접근 확인

#### Day 4-7: storage.py 구현
- [ ] **P0** save_image() 함수
  - [ ] 파일 해시 계산 (SHA-256)
  - [ ] 로컬 저장 경로: `/storage/generated_images/{user_id}/{hash}.png`
  - [ ] 디렉토리 자동 생성

- [ ] **P0** load_image() 함수
  - [ ] file_hash로 경로 조회
  - [ ] 파일 URL 반환

- [ ] **P0** db_processor와 연동
  - [ ] save_image_matching() 호출

**1주차 마일스톤**:
✅ Docker 환경 구성, 파일 저장 기능 완성

---

### 2주차 (1/8-1/14): 테스트 및 유틸리티

#### Day 8-10: validators.py
- [ ] **P0** validate_login_id() 함수
  - [ ] 정규식: `^[a-zA-Z0-9]+$`
  - [ ] 길이: 3-20자

- [ ] **P0** validate_password() 함수
  - [ ] 길이: 8-30자
  - [ ] 영문+숫자 포함 검증

#### Day 11-13: tests/ 작성
- [ ] **P0** tests/test_api.py
  - [ ] test_generate_endpoint()
  - [ ] test_signup_success()
  - [ ] test_login_success()

- [ ] **P0** tests/test_storage.py
  - [ ] test_save_image()
  - [ ] test_load_image()

- [ ] **P0** pytest 실행
  - [ ] `pytest tests/ -v`

#### Day 14: logging_config.py
- [ ] **P0** 로깅 설정
  - [ ] 파일 로그: `logs/app.log`
  - [ ] 콘솔 로그
  - [ ] 로그 레벨: DEBUG (개발), INFO (프로덕션)

**2주차 마일스톤**:
✅ 테스트 코드 작성, 유효성 검증 완성

---

### 3주차 (1/15-1/21): CI/CD 및 배포 준비

#### Day 15-17: GitHub Actions
- [ ] **P1** .github/workflows/test.yml
  - [ ] 트리거: PR 생성 시
  - [ ] 작업: pytest 실행

- [ ] **P1** .github/workflows/deploy.yml
  - [ ] 트리거: main 브랜치 푸시
  - [ ] 작업: Docker 이미지 빌드 → Cloud Run 배포

#### Day 18-21: Cloud Run 배포 준비
- [ ] **P1** GCP 프로젝트 생성
  - [ ] Cloud Run API 활성화
  - [ ] Artifact Registry 활성화

- [ ] **P1** 배포 스크립트 작성
  - [ ] `deployment/scripts/deploy_cloud_run.sh`
  - [ ] Docker 이미지 푸시
  - [ ] Cloud Run 서비스 생성

- [ ] **P1** 환경 변수 설정
  - [ ] DATABASE_URL (Cloud SQL)
  - [ ] OPENAI_API_KEY

**3주차 마일스톤**:
✅ CI/CD 파이프라인 구축, Cloud Run 배포 가능

---

### 4주차 (1/22-1/28): 배포 및 안정화

#### Day 22-24: GCS 설정 (선택)
- [ ] **P2** GCS 버킷 생성
  - [ ] 버킷 이름: `ad-generator-bucket`
  - [ ] 공개 읽기 권한 설정

- [ ] **P2** storage.py에 GCS 지원 추가
  - [ ] `google-cloud-storage` 패키지 사용
  - [ ] save_image()에서 GCS 업로드

#### Day 25-26: 프로덕션 배포
- [ ] **P0** Cloud SQL 설정
  - [ ] PostgreSQL 인스턴스 생성
  - [ ] 테이블 스키마 마이그레이션

- [ ] **P0** Cloud Run 배포
  - [ ] `gcloud run deploy ad-generator-backend`
  - [ ] 환경 변수 설정
  - [ ] 배포 후 동작 확인

#### Day 27-28: 모니터링 설정
- [ ] **P1** Cloud Logging 확인
  - [ ] 에러 로그 모니터링

- [ ] **P1** 성능 테스트
  - [ ] 동시 요청 처리 확인
  - [ ] 평균 응답 시간 측정

**4주차 마일스톤**:
✅ 전체 서비스 Cloud Run 배포 완료, 안정화

---

### 선택 기능 (여유 시간 있을 경우)

- [ ] **P2** GPU 서버 배포
  - [ ] GCP Compute Engine (NVIDIA T4)
  - [ ] Docker 컨테이너 실행

- [ ] **P2** 알림 시스템
  - [ ] 배포 성공/실패 Slack 알림

---

## 🎯 전체 마일스톤 요약

### 1주차 마일스톤 (1/7)
- ✅ 프론트: 기본 UI 구성, 백엔드 API 호출 확인
- ✅ 백엔드: DB 테이블 생성, 기본 CRUD 완성
- ✅ 이미지: SDXL 기본 생성 성공
- ✅ 텍스트: GPT API 광고 문구 생성 성공
- ✅ 인프라: Docker 환경, 파일 저장 완성

### 2주차 마일스톤 (1/14)
- ✅ 프론트: 결과 표시 UI, 상태 폴링
- ✅ 백엔드: 전체 워크플로우 통합
- ✅ 이미지: 후처리, 텍스트 오버레이
- ✅ 텍스트: 프롬프트 템플릿 관리
- ✅ 인프라: 테스트 코드, 유효성 검증

### 3주차 마일스톤 (1/21)
- ✅ 프론트: 인증 UI, 이력 관리 UI
- ✅ 백엔드: 인증 시스템, 이력 조회
- ✅ 이미지: 모델 선택, 안정성 향상
- ✅ 텍스트: 키워드 추출, 톤별 생성
- ✅ 인프라: CI/CD, Cloud Run 준비

### 4주차 마일스톤 (1/28)
- ✅ 프론트: Vercel 배포, UI/UX 개선
- ✅ 백엔드: 성능 최적화, 프로덕션 DB
- ✅ 이미지: 배포 준비, 안정화
- ✅ 텍스트: 비용 최적화, 품질 개선
- ✅ 인프라: 전체 배포 완료, 모니터링

---

## 📊 진행 상황 추적

각 담당자는 매일 작업 완료 후 체크리스트를 업데이트하고, 주간 회의에서 마일스톤 달성 여부를 확인합니다.

**주간 회의 일정**:
- 1주차: 1/8 (화) - 기반 구축 확인
- 2주차: 1/15 (화) - 핵심 기능 통합 확인
- 3주차: 1/22 (화) - 사용자 기능 완성 확인
- 4주차: 1/28 (월) - 최종 배포 및 데모

**협업 포인트**:
- 1번 ↔ 2번: API 엔드포인트 규약 합의 (1주차)
- 2번 ↔ 3번, 4번: 비즈니스 로직 통합 (2주차)
- 전체: 통합 테스트 (3주차 말)
- 1번 ↔ 5번: 배포 협업 (4주차)

---

## ⚠️ 리스크 관리

### 높은 우선순위 리스크
1. **AI 모델 생성 시간 초과**
   - 대응: 타임아웃 60초 설정, 사용자에게 예상 시간 안내

2. **GPU 비용 초과**
   - 대응: SDXL 우선 사용, 사용량 모니터링

3. **GPT API 비용**
   - 대응: 프롬프트 길이 제한, 캐싱 활용

### 중간 우선순위 리스크
4. **DB 동시 접속**
   - 대응: 연결 풀 설정, Cloud SQL 사용

5. **이미지 저장 용량 초과**
   - 대응: GCS 5GB 활용, 압축 최적화

### 낮은 우선순위 리스크
6. **브라우저 호환성**
   - 대응: 3주차 크로스 브라우저 테스트

---

## 🎉 최종 체크리스트 (배포 전)

### 기능 검증
- [ ] 비회원 광고 생성 가능
- [ ] 회원가입/로그인 정상 동작
- [ ] 광고 생성 이력 조회 가능
- [ ] 채팅 이력 조회 가능
- [ ] 이미지 다운로드 가능

### 성능 검증
- [ ] 평균 생성 시간 30초 이내
- [ ] 동시 요청 10개 처리 가능
- [ ] 이미지 파일 크기 2MB 이하

### 배포 검증
- [ ] Vercel 프론트엔드 배포 완료
- [ ] Cloud Run 백엔드 배포 완료
- [ ] Cloud SQL 연결 확인
- [ ] 프로덕션 환경 변수 설정 완료

### 문서화
- [ ] README.md 작성 (설치, 실행 방법)
- [ ] API 문서 (엔드포인트 설명)
- [ ] 사용자 가이드 (간단한 매뉴얼)

---

**프로젝트 완료 기준**: 위 체크리스트 95% 이상 완료 + 1/28 데모 성공
